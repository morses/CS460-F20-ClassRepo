<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="1247" height="1255" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[User Agent -> Origin Server: GET /Login
Origin Server --> User Agent: HTML + RequestVerificationToken
Note left of User Agent: User types in \nemail and password
User Agent -> Origin Server: POST /Login \n(Email,Password,RememberMe,token)
Origin Server -> _signInManager: PasswordSignInAsync\n(Email,Password,RememberMe)
Note right of _signInManager: validate\ncredentials
_signInManager --> Origin Server: result
Origin Server --> User Agent: 302 / \nset-cookie (auth token)
Note left of User Agent: Logged\nin
User Agent -> Origin Server: GET / + \n(ğŸª auth token)
Note right of Origin Server: [AllowAnonymous]
Origin Server --> User Agent: 200 HTML
User Agent -> Origin Server: GET /Apples/Eaten + \n(ğŸª auth token)
Note right of Origin Server: [Authorize]
Origin Server -> Authentication \nAction Filter: onActionExecuting\n(auth token)
Note right of Authentication \nAction Filter: validate\ntoken
Authentication \nAction Filter --> Origin Server: OK
Note right of Origin Server: query our\ndatabase
Origin Server --> User Agent: 200 {apples: [...]}
Note left of User Agent: Sees apples\neaten]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><rect x="164.8000030517578" y="20" width="116" height="57.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="174.8000030517578" y="53.10000038146973" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="174.8000030517578">User Agent</tspan></text></g><g class="actor"><rect x="164.8000030517578" y="1178.100009918213" width="116" height="57.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="174.8000030517578" y="1211.2000102996826" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="174.8000030517578">User Agent</tspan></text></g><line x1="222.8000030517578" x2="222.8000030517578" y1="77.70000076293945" y2="1178.100009918213" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="487.19998931884766" y="20" width="144.8000030517578" height="57.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="497.19998931884766" y="53.10000038146973" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="497.19998931884766">Origin Server</tspan></text></g><g class="actor"><rect x="487.19998931884766" y="1178.100009918213" width="144.8000030517578" height="57.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="497.19998931884766" y="1211.2000102996826" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="497.19998931884766">Origin Server</tspan></text></g><line x1="559.5999908447266" x2="559.5999908447266" y1="77.70000076293945" y2="1178.100009918213" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="761.6000061035156" y="20" width="154.39999389648438" height="57.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="771.6000061035156" y="53.10000038146973" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="771.6000061035156">_signInManager</tspan></text></g><g class="actor"><rect x="761.6000061035156" y="1178.100009918213" width="154.39999389648438" height="57.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="771.6000061035156" y="1211.2000102996826" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="771.6000061035156">_signInManager</tspan></text></g><line x1="838.8000030517578" x2="838.8000030517578" y1="77.70000076293945" y2="1178.100009918213" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="936" y="20" width="154.39999389648438" height="57.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="946" y="43.5" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="946">Authentication</tspan><tspan dy="1.2em" x="946">Action Filter</tspan></text></g><g class="actor"><rect x="936" y="1178.100009918213" width="154.39999389648438" height="57.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="946" y="1201.600009918213" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="946">Authentication</tspan><tspan dy="1.2em" x="946">Action Filter</tspan></text></g><line x1="1013.1999969482422" x2="1013.1999969482422" y1="77.70000076293945" y2="1178.100009918213" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="signal"><text x="343.1999969482422" y="106.95000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="343.1999969482422">GET /Login</tspan></text><line x1="222.8000030517578" x2="559.5999908447266" y1="116.20000076293945" y2="116.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="242.39999389648438" y="145.45000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="242.39999389648438">HTML + RequestVerificationToken</tspan></text><line x1="559.5999908447266" x2="222.8000030517578" y1="154.70000076293945" y2="154.70000076293945" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="20" y="174.70000076293945" width="182.8000030517578" height="47.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="25" y="193.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="25">User types in</tspan><tspan dy="1.2em" x="25">email and password</tspan></text></g><g class="signal"><text x="232.8000030517578" y="242.05000114440918" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="232.8000030517578">POST /Login</tspan><tspan dy="1.2em" x="232.8000030517578">(Email,Password,RememberMe,token)</tspan></text><line x1="222.8000030517578" x2="559.5999908447266" y1="280.10000228881836" y2="280.10000228881836" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="569.5999908447266" y="299.75000190734863" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="569.5999908447266">PasswordSignInAsync</tspan><tspan dy="1.2em" x="569.5999908447266">(Email,Password,RememberMe)</tspan></text><line x1="559.5999908447266" x2="838.8000030517578" y1="337.8000030517578" y2="337.8000030517578" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="858.8000030517578" y="357.8000030517578" width="115.5999984741211" height="47.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="863.8000030517578" y="376.3000030517578" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="863.8000030517578">validate</tspan><tspan dy="1.2em" x="863.8000030517578">credentials</tspan></text></g><g class="signal"><text x="670.3999977111816" y="434.75000381469727" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="670.3999977111816">result</tspan></text><line x1="838.8000030517578" x2="559.5999908447266" y1="444.00000381469727" y2="444.00000381469727" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="280.7999954223633" y="463.65000343322754" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="280.7999954223633">302 /</tspan><tspan dy="1.2em" x="280.7999954223633">set-cookie (auth token)</tspan></text><line x1="559.5999908447266" x2="222.8000030517578" y1="501.7000045776367" y2="501.7000045776367" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="135.20000457763672" y="521.7000045776367" width="67.5999984741211" height="47.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="140.20000457763672" y="540.2000045776367" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="140.20000457763672">Logged</tspan><tspan dy="1.2em" x="140.20000457763672">in</tspan></text></g><g class="signal"><text x="318.375" y="589.0500049591064" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="318.375">GET / +</tspan><tspan dy="1.2em" x="318.375">(ğŸª auth token)</tspan></text><line x1="222.8000030517578" x2="559.5999908447266" y1="627.1000061035156" y2="627.1000061035156" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="579.5999908447266" y="647.1000061035156" width="163.60000610351562" height="28.5" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="584.5999908447266" y="665.6000061035156" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="584.5999908447266">[AllowAnonymous]</tspan></text></g><g class="signal"><text x="352.7999954223633" y="704.8500061035156" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="352.7999954223633">200 HTML</tspan></text><line x1="559.5999908447266" x2="222.8000030517578" y1="714.1000061035156" y2="714.1000061035156" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="signal"><text x="300" y="733.7500057220459" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="300">GET /Apples/Eaten +</tspan><tspan dy="1.2em" x="300">(ğŸª auth token)</tspan></text><line x1="222.8000030517578" x2="559.5999908447266" y1="771.8000068664551" y2="771.8000068664551" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="579.5999908447266" y="791.8000068664551" width="115.5999984741211" height="28.5" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="584.5999908447266" y="810.3000068664551" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="584.5999908447266">[Authorize]</tspan></text></g><g class="signal"><text x="704.7999954223633" y="839.9500064849854" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="704.7999954223633">onActionExecuting</tspan><tspan dy="1.2em" x="704.7999954223633">(auth token)</tspan></text><line x1="559.5999908447266" x2="1013.1999969482422" y1="878.0000076293945" y2="878.0000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="1033.1999969482422" y="898.0000076293945" width="86.80000305175781" height="47.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="1038.1999969482422" y="916.5000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="1038.1999969482422">validate</tspan><tspan dy="1.2em" x="1038.1999969482422">token</tspan></text></g><g class="signal"><text x="776.7999935150146" y="974.950008392334" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="776.7999935150146">OK</tspan></text><line x1="1013.1999969482422" x2="559.5999908447266" y1="984.200008392334" y2="984.200008392334" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="579.5999908447266" y="1004.200008392334" width="96.4000015258789" height="47.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="584.5999908447266" y="1022.700008392334" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="584.5999908447266">query our</tspan><tspan dy="1.2em" x="584.5999908447266">database</tspan></text></g><g class="signal"><text x="300" y="1081.1500091552734" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="300">200 {apples: [...]}</tspan></text><line x1="559.5999908447266" x2="222.8000030517578" y1="1090.4000091552734" y2="1090.4000091552734" style="stroke-width: 2px; stroke-dasharray: 6px, 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="87.20000457763672" y="1110.4000091552734" width="115.5999984741211" height="47.70000076293945" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="92.20000457763672" y="1128.9000091552734" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="92.20000457763672">Sees apples</tspan><tspan dy="1.2em" x="92.20000457763672">eaten</tspan></text></g></svg>